---
description: Rules for React app, data fetching, and UI structure
globs:
  - 'apps/web/**'
---

# React Rules

- Use React Router for pages in `src/routes/*`.
- Use TanStack Query for server state. Never fetch in useEffect directly.
- Centralize API calls in `src/api.ts`. Always throw on non-2xx.

# Components

- Keep pages thin; extract components when they exceed ~100 lines.

# API Integration

- Use React 19 with Vite; prefer `@tanstack/react-query` for data fetching.
- Read API base from `VITE_API_BASE`; keep default in `README.md` synced with code.
- If routes, paths, or error envelope change, update `apps/web/src/api.ts` and the `README.md` examples.
- Document any new env vars or flags.
